<html py:extends="master.xhtml" py:strip="True">
<head py:block="head" py:strip="True">
    <title py:block="master_title">${full_name}</title>
</head>


<body py:block="body" py:strip="True">
<div class="main_content">
    <form id="people_edit" action="/people/$staff_id" method="post">
        <div class="main_title">
            <span>${full_name}</span>
            <span class="navbar-right action">
                <button type="submit">Save</button>
                <a href="/people/$staff_id"><button type="button">Cancel</button></a>
            </span>
        </div>

        <div class="generic_list">
            <table width="100%">
                <tr>
                    <td class="first_column"><label for="team_name">Team: </label></td>
                    <td class="options">
                        <py:for each="t,(t_id,sel) in sorted(team_list.items(), key=lambda x: x)">
                            <py:switch test="sel is True">
                                <input py:case='1' type="checkbox" id="$t_id" value='$t' name="teams" checked="true"/>
                                <input py:case='0' type="checkbox" id="$t_id" value='$t' name="teams"/>
                            </py:switch>
                            <label for="$t_id">${t}</label><br/>
                        </py:for>
                    </td>
                </tr>
                <tr>
                    <td class="first_column"><label for="tel">Telephone (office): </label></td>
                    <td><input type="text" name="tel_office" id="tel_office"
                               value="${','.join([p.number for p in tel if p.location=='office'])}" size="40"/>
                    </td>
                </tr>
                <tr>
                    <td class="first_column"><label for="tel">Telephone (lab): </label></td>
                    <td><input type="text" name="tel_lab" id="tel_lab"
                               value="${','.join([p.number for p in tel if p.location=='lab'])}" size="40"/>
                    </td>
                </tr>
                <tr>
                    <td class="first_column"><label for="tel">Telephone (perso): </label></td>
                    <td><input type="text" name="tel_perso" id="tel_perso"
                               value="${','.join([p.number for p in tel if p.location=='perso'])}" size="40"/>
                    </td>
                </tr>
                <tr>
                    <td class="first_column"><label for="email">E-mail: </label></td>
                    <td>
                        <input type="text" name="email" id="email" value="${email}" size="40"/>
                    </td>
                </tr>
                <tr>
                    <td class="first_column"><label for="mailing_list">Mailing lists: </label></td>
                    <td><input type="text" name="mailing_list" id="mailing_list"
                               value="${','.join([e.address for e in mailing_lists])}" size="40"/></td>
                </tr>
            </table>
        </div>
    </form>
</div>
<script>
    const form = document.getElementById('people_edit');
    form.addEventListener('keypress', function(e) {
      if (e.keyCode === 13) {
        e.preventDefault();
      }
    });
</script>
</body>
</html>
